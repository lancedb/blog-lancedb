<section class="newsletter-section">
  <div class="newsletter-content">
    <h2>Sign up for LanceDB updates</h2>
    <form class="newsletter-form" action="https://formspree.io/f/your-form-id" method="POST" autocomplete="off">
      <div class="newsletter-input-group">
        <input type="email" name="email" placeholder="Enter your email" required />
        <button type="submit">Subscribe</button>
      </div>
    </form>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.querySelector('.newsletter-form');
  const button = form.querySelector('button');
  const buttonText = button.querySelector('.button-text');
  const buttonLoading = button.querySelector('.button-loading');
  const formMessage = form.querySelector('.form-message');

  form.addEventListener('submit', async function(e) {
    e.preventDefault();
    
    // Show loading state
    buttonText.style.display = 'none';
    buttonLoading.style.display = 'flex';
    button.disabled = true;
    formMessage.style.display = 'none';
    
    try {
      const formData = new FormData(form);
      const response = await fetch(form.action, {
        method: 'POST',
        body: formData,
        headers: {
          'Accept': 'application/json'
        }
      });
      
      if (response.ok) {
        formMessage.textContent = 'Thanks for subscribing!';
        formMessage.className = 'form-message success';
        form.reset();
      } else {
        throw new Error('Subscription failed');
      }
    } catch (error) {
      formMessage.textContent = 'Sorry, there was an error. Please try again.';
      formMessage.className = 'form-message error';
    } finally {
      // Reset button state
      buttonText.style.display = 'flex';
      buttonLoading.style.display = 'none';
      button.disabled = false;
      formMessage.style.display = 'block';
    }
  });
});
</script> 