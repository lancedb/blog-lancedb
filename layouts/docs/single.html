{{ define "main" }}
<div class="docs-layout">
    <aside class="docs-sidebar__wrap">
        <div class="docs-sidebar__header d-md-none">
            <p class="text-body-medium text-medium">
                {{ .Params.sidebar_title | default .Title }}
            </p>
            <p class="text-body-medium docs-sidebar__header-devider">/</p>
            <p class="text-body-medium js-current-section text-pro docs-sidebar__header-current">
            </p>
            <button class="docs-sidebar__toggle">
                {{readFile "static/assets/icons/arrow_left.svg" | safeHTML}}
            </button>
        </div>
        <div class="docs-sidebar__content">
            <div class="docs-sidebar">
                <nav class="sidebar-nav">
                    {{ partial "docs-sidebar-recursive.html" (dict "Pages" (.Site.GetPage "section" "docs").Pages "current" .) }}
                </nav> 
            </div>
        </div>
    </aside>
    
    <main class="docs-main">
        <div class="container">
            <div class="docs-content">
                <article class="docs-article">
                    <header class="docs-article-header">
                        <nav class="docs-breadcrumbs">
                            <a href="/" aria-label="Home" class="breadcrumb-home">
                                {{ readFile "static/assets/icons/home.svg" | safeHTML }}
                            </a>
                            {{ $ancestors := .CurrentSection.Ancestors.Reverse }}
                            {{ range $i, $a := $ancestors }}
                                {{ if and (in $a.RelPermalink "/docs/") (ne $a.Title "Docs") }}
                                    <span class="breadcrumb-sep">/</span>
                                    <a href="{{ $a.RelPermalink }}">{{ $a.Params.sidebar_title | default $a.Title }}</a>
                                {{ end }}
                            {{ end }}
                            <span class="breadcrumb-sep">/</span>
                            <span class="breadcrumb-current">{{ .Params.sidebar_title | default .Title }}</span>
                        </nav>
                        <h1>{{ .Title }}</h1>
                    </header>
                    <div class="docs-article-content">
                        {{ .Content }}
                    </div>
                </article>
            </div>
        </div>
    </main>
    
    <aside class="docs-toc{{ if .Params.hide_toc }} d-none{{ end }}">
        <div class="toc-container">
            {{ if not .Params.hide_toc }}
            {{ .TableOfContents }}
            {{ end }}
        </div>
    </aside>
</div>
{{ end }}
{{ define "page_js" }}
    {{ $codeTabJS := resources.Get "js/code-tab.js" | js.Build "codeTab.js" | fingerprint }}
    <script src="{{ $codeTabJS.RelPermalink }}"></script>
    {{ $codeBlocksJS := resources.Get "js/code-blocks.js" | js.Build "codeBlocks.js" | fingerprint }}
    <script src="{{ $codeBlocksJS.RelPermalink }}"></script>
    {{ $tocActiveJS := resources.Get "js/toc-active.js" | js.Build "toc-active.js" | fingerprint }}
    <script src="{{ $tocActiveJS.RelPermalink }}"></script>
    {{ $imageExpandJS := resources.Get "js/image-expand.js" | js.Build "image-expand.js" | fingerprint }}
    <script src="{{ $imageExpandJS.RelPermalink }}"></script>
    {{ $imageExpandJS := resources.Get "js/image-expand.js" | js.Build "image-expand.js" | fingerprint }}
    <script src="{{ $imageExpandJS.RelPermalink }}"></script>
    {{ $sidebarJS := resources.Get "js/sidebar.js" | js.Build "image-expand.js" | fingerprint }}
    <script src="{{ $sidebarJS.RelPermalink }}"></script>
{{ end }}
